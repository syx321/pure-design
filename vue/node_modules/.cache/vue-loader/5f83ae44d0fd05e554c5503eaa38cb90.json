{"remainingRequest":"/Users/syx/Desktop/code/spring/pure-design/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/syx/Desktop/code/spring/pure-design/vue/src/views/front/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/syx/Desktop/code/spring/pure-design/vue/src/views/front/Home.vue","mtime":1655285928248},{"path":"/Users/syx/Desktop/code/spring/pure-design/vue/node_modules/cache-loader/dist/cjs.js","mtime":1653210616504},{"path":"/Users/syx/Desktop/code/spring/pure-design/vue/node_modules/babel-loader/lib/index.js","mtime":1653210619168},{"path":"/Users/syx/Desktop/code/spring/pure-design/vue/node_modules/cache-loader/dist/cjs.js","mtime":1653210616504},{"path":"/Users/syx/Desktop/code/spring/pure-design/vue/node_modules/vue-loader/lib/index.js","mtime":1653210617405}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRnJvbnRIb21lIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdG90YWw6MCwKICAgICAgaW1nczogWwogICAgICAgICAgJ2h0dHBzOi8vaW1nMzAuMzYwYnV5aW1nLmNvbS9iYWJlbC9zMTU4MHg4MzBfamZzL3QxLzEwOTM2MS8yNC8yMjg5Ny83NDA1NC82MjFlZGU1OEUwOTlkMzdlMy9mMTI3MzBjODFkZjYwNDZhLmpwZyFjY18xNTgweDgzMC53ZWJwJywKICAgICAgICAgICdodHRwczovL2ltZzEzLjM2MGJ1eWltZy5jb20vYmFiZWwvczE1ODB4ODMwX2pmcy90MS85NjM5OC8zMC8yMzcxNS83MDIyOC82MjIxZTlkMEVjMWI5ZmU2NS9mNjZlMmFkNzYzMTRkNmNkLmpwZyFjY18xNTgweDgzMC53ZWJwJwogICAgICBdLAogICAgICBwcm9kdWN0OnsKICAgICAgICBwcm9kdWN0SWQ6MCwKICAgICAgICBuYW1lOiIiLAogICAgICAgIHByaWNlOjAsCiAgICAgICAgaW1nOiIiLAogICAgICAgIHNpemU6MCwKICAgICAgICBzb3J0OiIiLAogICAgICAgIHB1cmNoYXNlTnVtOjAsCiAgICAgICAgc2NvcmU6MCwKICAgICAgICBmYXZvcmFibGVSYXRlOjAsCiAgICAgIH0sCiAgICAgIG5hbWU6IiIKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWQoKXsKICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiL3Byb2R1Y3QiKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YQogICAgICB9KQogICAgfSwKICAgIHB1cmNoYXNlKHByb2R1Y3QpewogICAgICAvLyB0aGlzLnJlcXVlc3QuZ2V0KCIvcGVyc29uLyIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKS51c2VySWQgOiAxKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi9wZXJzb24vIiArIDEpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7CiAgICAgICAgICB0aGlzLiRjb25maXJtKHJlcy5kYXRhLnNob3BwaW5nUG9pbnRzICsgJ+enr+WIhuWwhuS8mOaDoCcgKyBwYXJzZUludChyZXMuZGF0YS5zaG9wcGluZ1BvaW50cyAvIDEwMCkgKyAn5YWDJywgJ+aPkOekuicsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiL3Byb2R1Y3QvcHVyY2hhc2UiLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QucHJvZHVjdElkLAogICAgICAgICAgICAgICAgLy8gdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKS51c2VySWQgOiAwCiAgICAgICAgICAgICAgICB1c2VySWQ6IDEsCiAgICAgICAgICAgICAgICBjb3VudDogMQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzIwMCcpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6LSt5Lmw5oiQ5YqfJykKICAgICAgICAgICAgICAgIHRoaXMubG9hZCgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkvZnpop3kuI3otrPvvIzotK3kubDlpLHotKUiKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgLy/lj5bmtojku4DkuYjpg73kuI3lgZoKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzZWFyY2goKSB7CiAgICAgIGNvbnNvbGUubG9nKG5hbWUpCiAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi9wcm9kdWN0L3NlYXJjaCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGEKICAgICAgfSkKICAgIH0sCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5uYW1lID0gIiIKICAgICAgdGhpcy5sb2FkKCkKICAgIH0sCiAgICBzb3J0QnlQcmljZSgpIHsKICAgICAgdGhpcy50YWJsZURhdGEuc29ydChmdW5jdGlvbiAoYSwgYil7CiAgICAgICAgcmV0dXJuIGIucHJpY2UgLSBhLnByaWNlCiAgICAgIH0pCiAgICB9LAogICAgc29ydEJ5R29vZFJhdGUoKSB7CiAgICAgIHRoaXMudGFibGVEYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpewogICAgICAgIHJldHVybiBiLmZhdm9yYWJsZVJhdGUgLSBhLmZhdm9yYWJsZVJhdGUKICAgICAgfSkKICAgIH0sCiAgICBzb3J0QnlTYWxlc1ZvbHVtZSgpIHsKICAgICAgdGhpcy50YWJsZURhdGEuc29ydChmdW5jdGlvbiAoYSwgYil7CiAgICAgICAgcmV0dXJuIGIucHVyY2hhc2VOdW0gLSBhLnB1cmNoYXNlTnVtCiAgICAgIH0pCiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKQogICAgfQoKICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Home.vue","sourceRoot":"src/views/front","sourcesContent":["<template>\n  <div>\n    <div style=\"margin: 10px 0\">\n      <el-carousel height=\"450px\" :interval=\"5000\">\n        <el-carousel-item v-for=\"item in imgs\" :key=\"item\">\n          <img :src=\"item\" alt=\"\" style=\"width: 100%\">\n        </el-carousel-item>\n      </el-carousel>\n    </div>\n\n    <div style=\"margin: 10px 0\">\n      <el-input style=\"width:360px\" placeholder=\"请输入名称\" suffix-icon=\"el-icon-search\" v-model=\"name\"></el-input>\n      <el-button class=\"ml-5\" @click=\"search\">搜索</el-button>\n      <el-button class=\"ml-5\" @click=\"reset\">重置</el-button>\n      <span style=\"padding-left: 285px;padding-right: 20px;font-size: 18px\"></span>\n      <el-button class=\"ml-5\" type=\"primary\" @click=\"sortByPrice\">价格</el-button>\n      <el-button class=\"ml-5\" type=\"primary\" @click=\"sortByGoodRate\">好评度</el-button>\n      <el-button class=\"ml-5\" type=\"primary\" @click=\"sortBySalesVolume\">销量</el-button>\n    </div>\n\n    <div style=\"margin: 10px 0\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"6\" v-for=\"item in tableData\" :key=\"item.productId\" style=\"margin-bottom: 10px\">\n\n          <div style=\"border: 1px solid #ccc; padding-bottom: 10px\">\n            <img :src=\"item.img\" alt=\"\" style=\"width: 100%\">\n            <div style=\"color: #666; padding: 10px\">\n              <span style=\"padding-right: 15px\">{{ item.name }}</span>\n              <el-tag type=\"primary\">{{ item.sort }}</el-tag>\n            </div>\n            <div style=\"color: #666; padding: 10px\">\n              <span>尺寸: {{ item.size }}</span>\n              <span style=\"padding-left: 15px\">价格: ¥ {{ item.price }}</span>\n            </div>\n            <div style=\"color: #666; padding: 10px\">\n              <span>评分: {{ item.score }}</span>\n              <span style=\"padding-left: 15px\">购买人数: {{ item.purchaseNum }}</span>\n            </div>\n            <div style=\"padding: 10px\">\n              <el-button type=\"success\" @click=\"purchase(item)\">购买</el-button>\n              <el-button type=\"info\">加入购物车</el-button>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"FrontHome\",\n  data() {\n    return {\n      tableData: [],\n      total:0,\n      imgs: [\n          'https://img30.360buyimg.com/babel/s1580x830_jfs/t1/109361/24/22897/74054/621ede58E099d37e3/f12730c81df6046a.jpg!cc_1580x830.webp',\n          'https://img13.360buyimg.com/babel/s1580x830_jfs/t1/96398/30/23715/70228/6221e9d0Ec1b9fe65/f66e2ad76314d6cd.jpg!cc_1580x830.webp'\n      ],\n      product:{\n        productId:0,\n        name:\"\",\n        price:0,\n        img:\"\",\n        size:0,\n        sort:\"\",\n        purchaseNum:0,\n        score:0,\n        favorableRate:0,\n      },\n      name:\"\"\n    }\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load(){\n      this.request.get(\"/product\").then(res => {\n        this.tableData = res.data\n      })\n    },\n    purchase(product){\n      // this.request.get(\"/person/\" + localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")).userId : 1).then(res => {\n      this.request.get(\"/person/\" + 1).then(res => {\n        if (res.code === '200') {\n          this.$confirm(res.data.shoppingPoints + '积分将优惠' + parseInt(res.data.shoppingPoints / 100) + '元', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.request.get(\"/product/purchase\", {\n              params: {\n                productId: product.productId,\n                // userId: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")).userId : 0\n                userId: 1,\n                count: 1\n              }\n            }).then(res => {\n              if (res.code === '200') {\n                this.$message.success('购买成功')\n                this.load();\n              } else {\n                this.$message.error(\"余额不足，购买失败\")\n              }\n            })\n          }).catch(() => {\n            //取消什么都不做\n          });\n        }\n      })\n    },\n    search() {\n      console.log(name)\n      this.request.get(\"/product/search\", {\n        params: {\n          name: this.name\n        }\n      }).then(res => {\n        console.log(res)\n        this.tableData = res.data.data\n      })\n    },\n    reset() {\n      this.name = \"\"\n      this.load()\n    },\n    sortByPrice() {\n      this.tableData.sort(function (a, b){\n        return b.price - a.price\n      })\n    },\n    sortByGoodRate() {\n      this.tableData.sort(function (a, b){\n        return b.favorableRate - a.favorableRate\n      })\n    },\n    sortBySalesVolume() {\n      this.tableData.sort(function (a, b){\n        return b.purchaseNum - a.purchaseNum\n      })\n      console.log(this.tableData)\n    }\n\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}